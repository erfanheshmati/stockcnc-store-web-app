"use client";

import { useDialog } from "@/contexts/dialog-context";
import { API_URL } from "@/lib/constants";
import { notifyError, notifySuccess } from "@/lib/toast";
import Link from "next/link";
import { useEffect, useState } from "react";
import { BiPhoneCall, BiX } from "react-icons/bi";

export default function InquiryForm({ onClose }: { onClose: () => void }) {
  const { productId } = useDialog();

  const [phoneNumber, setPhoneNumber] = useState<string>("");
  const [error, setError] = useState<string | null>(null);
  const [isSubmitting, setIsSubmitting] = useState(false);

  const [supportPhone, setSupportPhone] = useState<string | null>();
  const [phoneError, setPhoneError] = useState<string | null>(null);

  useEffect(() => {
    const fetchSupportPhone = async () => {
      try {
        // const res = await fetch(`${API_URL}/web-text-plans`);
        const res = await fetch("/api/support-phone");
        if (!res.ok) throw new Error("خطا در دریافت اطلاعات!");
        const data = await res.json();
        setSupportPhone(data.supportTelephone);
      } catch (error) {
        setPhoneError((error as Error).message);
      }
    };
    fetchSupportPhone();
  }, []);

  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    let value = e.target.value;
    if (value.length > 11) {
      value = value.slice(0, 11);
    }
    setPhoneNumber(value);
    if (value.length < 11 && value.length !== 0) {
      setError("شماره همراه را صحیح وارد کنید");
    } else {
      setError(null);
    }
  };

  const handleFormSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();

    if (!phoneNumber) {
      setError("شماره همراه خود را وارد کنید");
    } else if (phoneNumber.length < 11) {
      setError("شماره همراه باید 11 رقم باشد");
    } else {
      setError(null);

      setIsSubmitting(true);

      // Send API request to get price for the product
      try {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const requestBody: Record<string, any> = {
          phone: phoneNumber,
          ...(productId && { product: productId }), // Conditionally add productId if it exists
        };

        const response = await fetch(`${API_URL}/price-inquiry`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(requestBody),
        });

        const result = await response.json();
        console.log(result);

        if (response.ok) notifySuccess("استعلام قیمت با موفقیت ثبت شد");
        else notifyError("خطا در ارسال! دوباره تلاش کنید");
      } catch (err) {
        console.log((err as Error).message);
        notifyError("خطا در ارسال! دوباره تلاش کنید");
      } finally {
        setIsSubmitting(false);
        setPhoneNumber("");
      }
    }
  };

  return (
    <>
      {/* Mobile View */}
      <div className="md:hidden flex flex-col items-center w-full max-w-sm sm:max-w-md p-6 shadow-2xl rounded-2xl bg-white relative">
        <div className="text-primary font-bold text-[16px]">استعلام قیمت</div>
        <div className="absolute right-4 top-4">
          <button onClick={onClose}>
            <BiX size={20} className="text-secondary/60" />
          </button>
        </div>
        <div className="flex flex-col items-center gap-5 pt-6">
          <svg
            width="66"
            height="66"
            viewBox="0 0 66 66"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M32.9986 0C14.7304 0 1.25782e-07 14.8125 1.25782e-07 33C-0.000378244 37.3336 0.852886 41.6248 2.51107 45.6287C4.16925 49.6325 6.59987 53.2705 9.66412 56.3349C12.7284 59.3993 16.3663 61.83 20.37 63.4884C24.3738 65.1467 28.665 66.0002 32.9986 66C51.1616 66 65.9986 51.284 65.9986 33C65.9986 14.716 51.1731 0 32.9986 0Z"
              fill="#D6DCE8"
            />
            <path
              d="M62.061 6.94666C61.7755 7.07492 61.4584 7.11575 61.1497 7.064C60.841 7.01225 60.5546 6.87023 60.3265 6.65587C60.0984 6.44151 59.9389 6.1644 59.8682 5.8595C59.7974 5.55461 59.8185 5.23559 59.9289 4.94269C60.0392 4.64978 60.2338 4.39612 60.4882 4.2137C60.7425 4.03127 61.0452 3.92826 61.358 3.91766C61.6708 3.90705 61.9798 3.98933 62.2459 4.15411C62.512 4.3189 62.7233 4.5588 62.8533 4.84356C62.94 5.03357 62.9882 5.23886 62.9953 5.4476C63.0024 5.65634 62.9681 5.86442 62.8945 6.05987C62.8209 6.25532 62.7093 6.43429 62.5663 6.58648C62.4232 6.73867 62.2515 6.86107 62.061 6.94666Z"
              fill="#D6DCE8"
            />
            <path
              d="M65.1667 9.27967C64.985 9.3613 64.7832 9.38729 64.5868 9.35436C64.3903 9.32144 64.208 9.23106 64.0629 9.09465C63.9177 8.95823 63.8163 8.78188 63.7712 8.58785C63.7262 8.39382 63.7396 8.1908 63.8099 8.0044C63.8801 7.81801 64.0039 7.65658 64.1658 7.5405C64.3277 7.42442 64.5203 7.35887 64.7194 7.35214C64.9184 7.34541 65.1151 7.39778 65.2844 7.50267C65.4537 7.60755 65.5882 7.76023 65.6709 7.94146C65.726 8.06237 65.7567 8.193 65.7612 8.32582C65.7657 8.45864 65.7439 8.59104 65.697 8.7154C65.6502 8.83976 65.5792 8.95364 65.4882 9.05047C65.3972 9.14731 65.2879 9.2252 65.1667 9.27967Z"
              fill="#D6DCE8"
            />
            <path
              d="M4.20718 62.1815C3.96901 62.3845 3.67605 62.5125 3.36525 62.5492C3.05445 62.586 2.73973 62.5298 2.46079 62.3879C2.18184 62.246 1.95117 62.0247 1.79786 61.7518C1.64455 61.479 1.57548 61.1669 1.59934 60.8548C1.62321 60.5428 1.73895 60.2448 1.93196 59.9984C2.12498 59.7521 2.38662 59.5684 2.6839 59.4705C2.98118 59.3727 3.30077 59.3651 3.60237 59.4486C3.90397 59.5322 4.17407 59.7032 4.3786 59.9401C4.51514 60.0983 4.61905 60.2818 4.68437 60.4803C4.74968 60.6787 4.77511 60.8882 4.75917 61.0965C4.74324 61.3048 4.68627 61.5079 4.59154 61.6941C4.4968 61.8803 4.36618 62.046 4.20718 62.1815Z"
              fill="#D6DCE8"
            />
            <path
              d="M7.83632 63.5496C7.6848 63.6788 7.49845 63.7602 7.30074 63.7836C7.10303 63.807 6.90281 63.7714 6.72532 63.6812C6.54784 63.591 6.40102 63.4502 6.30339 63.2767C6.20576 63.1032 6.16168 62.9047 6.1767 62.7062C6.19173 62.5076 6.26519 62.318 6.38782 62.1612C6.51045 62.0043 6.67677 61.8873 6.86581 61.8248C7.05485 61.7624 7.25815 61.7573 7.45009 61.8102C7.64202 61.8631 7.814 61.9716 7.94435 62.1221C8.03148 62.2227 8.09784 62.3395 8.13959 62.4659C8.18135 62.5923 8.19767 62.7257 8.18763 62.8584C8.17758 62.9911 8.14137 63.1205 8.08108 63.2391C8.02078 63.3577 7.93759 63.4633 7.83632 63.5496Z"
              fill="#D6DCE8"
            />
            <path
              d="M6.92007 4.15398C6.79758 4.25861 6.64685 4.32462 6.48689 4.34366C6.32693 4.3627 6.16491 4.33393 6.02128 4.26098C5.87766 4.18803 5.75886 4.07416 5.67989 3.93376C5.60092 3.79335 5.56531 3.6327 5.57756 3.47207C5.5898 3.31145 5.64936 3.15805 5.74871 3.03125C5.84805 2.90444 5.98274 2.8099 6.13576 2.75957C6.28879 2.70924 6.4533 2.70536 6.60852 2.74844C6.76375 2.79151 6.90273 2.87961 7.00794 3.0016C7.07807 3.08292 7.13145 3.1773 7.165 3.27932C7.19856 3.38133 7.21163 3.48897 7.20346 3.59605C7.1953 3.70313 7.16606 3.80754 7.11742 3.90329C7.06879 3.99904 7.00172 4.08423 6.92007 4.15398Z"
              fill="#D6DCE8"
            />
            <path
              d="M0.72793 11.9945C0.727741 12.1232 0.752948 12.2507 0.802106 12.3696C0.851265 12.4885 0.923409 12.5966 1.0144 12.6876C1.1054 12.7786 1.21346 12.8507 1.33239 12.8999C1.45131 12.949 1.57877 12.9742 1.70746 12.9741H11.3904V11.1706C11.3904 6.41699 5.62845 4.06612 2.29085 7.40083C0.354845 9.3354 0.78699 11.633 0.72793 11.9945Z"
              fill="url(#paint0_linear_2097_3438)"
            />
            <path
              d="M6.04102 5.83842C6.74118 5.83576 7.435 5.97109 8.08284 6.23667C8.73068 6.50225 9.31985 6.89287 9.81667 7.38622C10.3135 7.87957 10.7083 8.46598 10.9784 9.11194C11.2485 9.7579 11.3887 10.4508 11.391 11.1509V54.8508C11.3932 55.5509 11.5334 56.2436 11.8034 56.8895C12.0734 57.5353 12.4681 58.1217 12.9647 58.615C13.4614 59.1083 14.0504 59.499 14.6981 59.7646C15.3458 60.0303 16.0394 60.1658 16.7395 60.1633H50.4064V11.1509C50.4042 10.4509 50.264 9.75814 49.994 9.11227C49.7239 8.46641 49.3293 7.88006 48.8326 7.38673C48.336 6.8934 47.747 6.50275 47.0993 6.23709C46.4516 5.97142 45.7579 5.83595 45.0579 5.83842H6.04102Z"
              fill="#F1F3F9"
            />
            <path
              d="M22.7744 54.8503C22.5854 54.8511 22.4031 54.9209 22.262 55.0467C22.1209 55.1724 22.0306 55.3454 22.0081 55.5331C21.841 56.8125 21.2146 57.9876 20.2454 58.8393C19.2762 59.6911 18.0305 60.1615 16.7402 60.1628H56.414C57.6612 60.1615 58.8682 59.7222 59.8245 58.9216C60.7807 58.1209 61.4254 57.0099 61.6458 55.7823C61.6673 55.6696 61.6638 55.5535 61.6356 55.4422C61.6073 55.331 61.5551 55.2273 61.4824 55.1384C61.4098 55.0496 61.3185 54.9777 61.2151 54.9279C61.1117 54.8782 60.9986 54.8517 60.8838 54.8503H22.7744Z"
              fill="url(#paint1_linear_2097_3438)"
            />
            <path
              d="M45.3512 28.6768H25.8975V29.6131H45.3512V28.6768Z"
              fill="#E4E8F1"
            />
            <path
              d="M42.535 31.0281H25.8945V31.9644H42.535V31.0281Z"
              fill="#E4E8F1"
            />
            <path
              d="M64.1317 20.3453C50.6704 44.2746 51.8992 42.6728 50.9989 43.3599L45.9456 47.2333C45.8597 47.2993 45.7564 47.3387 45.6484 47.3469C45.5403 47.3551 45.4323 47.3316 45.3374 47.2794C45.2425 47.2271 45.1649 47.1483 45.114 47.0526C45.0632 46.957 45.0413 46.8486 45.0511 46.7407L45.6273 40.4026C45.6648 39.992 45.7872 39.5916 45.5855 39.9574L58.2618 17.2569C60.3879 13.3935 64.0539 14.4811 64.8217 17.0941C65.0508 17.9094 64.973 18.814 64.1317 20.3453Z"
              fill="#E0E4ED"
            />
            <path
              d="M62.2867 23.7077L64.5381 19.6182C64.7587 19.2182 64.8943 18.7769 64.9362 18.3221C64.9781 17.8672 64.9255 17.4086 64.7817 16.9751C64.6379 16.5415 64.406 16.1424 64.1006 15.8028C63.7952 15.4631 63.4228 15.1903 63.0069 15.0014C61.4051 14.2596 59.4979 14.9813 58.6466 16.5269L56.457 20.5055L62.2867 23.7077Z"
              fill="url(#paint2_linear_2097_3438)"
            />
            <path
              d="M63.1203 22.1837L64.5305 19.6225C64.7521 19.2228 64.8885 18.7816 64.9313 18.3266C64.9741 17.8716 64.9223 17.4126 64.7792 16.9786C64.636 16.5446 64.4047 16.1449 64.0996 15.8047C63.7945 15.4644 63.4223 15.1909 63.0065 15.0014C61.4047 14.2596 59.4975 14.9813 58.6461 16.5269L57.2979 18.9757L63.1203 22.1837Z"
              fill="url(#paint3_linear_2097_3438)"
            />
            <path
              d="M51.7954 42.4333C51.3158 43.2976 50.7338 43.4863 48.7503 45.0823L45.9456 47.233C45.8597 47.2989 45.7564 47.3384 45.6484 47.3466C45.5403 47.3548 45.4323 47.3313 45.3374 47.279C45.2425 47.2268 45.1649 47.148 45.114 47.0523C45.0632 46.9566 45.0413 46.8482 45.0511 46.7403L45.3695 43.214L45.6244 40.3936C45.6595 39.9837 45.7802 39.5857 45.9788 39.2253L51.7954 42.4333Z"
              fill="url(#paint4_linear_2097_3438)"
            />
            <path
              d="M48.7459 45.087L45.9456 47.2333C45.8597 47.2993 45.7564 47.3387 45.6484 47.3469C45.5403 47.3551 45.4323 47.3316 45.3374 47.2793C45.2425 47.2271 45.1649 47.1483 45.114 47.0526C45.0632 46.957 45.0413 46.8486 45.0511 46.7407L45.3695 43.2144C46.0559 43.1462 46.7468 43.2889 47.3501 43.6235C47.9534 43.958 48.4403 44.4686 48.7459 45.087Z"
              fill="url(#paint5_linear_2097_3438)"
            />
            <path
              d="M22.7313 27.6394H18.273C17.8752 27.6394 17.5527 27.9619 17.5527 28.3596V32.2821C17.5527 32.6799 17.8752 33.0023 18.273 33.0023H22.7313C23.129 33.0023 23.4515 32.6799 23.4515 32.2821V28.3596C23.4515 27.9619 23.129 27.6394 22.7313 27.6394Z"
              fill="#E4E8F1"
            />
            <path
              d="M19.4715 31.1229L18.8362 30.0771C18.7975 30.0193 18.7709 29.9542 18.758 29.8858C18.7451 29.8174 18.7461 29.7471 18.7611 29.6792C18.7761 29.6112 18.8047 29.547 18.8451 29.4904C18.8856 29.4337 18.9371 29.3859 18.9965 29.3497C19.056 29.3135 19.1221 29.2897 19.191 29.2798C19.2599 29.2698 19.3301 29.2739 19.3973 29.2918C19.4646 29.3097 19.5275 29.341 19.5823 29.3839C19.6372 29.4268 19.6827 29.4803 19.7163 29.5412L20.0765 30.1318L21.6019 29.1393C21.7165 29.0646 21.8561 29.0385 21.99 29.0668C22.1238 29.095 22.241 29.1752 22.3157 29.2899C22.3904 29.4045 22.4165 29.5441 22.3882 29.6779C22.36 29.8118 22.2798 29.9289 22.1652 30.0036L20.1931 31.2885C20.1351 31.3259 20.0702 31.3513 20.0023 31.3632C19.9343 31.3751 19.8646 31.3733 19.7974 31.3578C19.7301 31.3424 19.6666 31.3136 19.6107 31.2733C19.5547 31.2329 19.5074 31.1818 19.4715 31.1229Z"
              fill="#A5ADC0"
            />
            <path
              d="M45.3512 37.0264H25.8975V37.9627H45.3512V37.0264Z"
              fill="#E4E8F1"
            />
            <path
              d="M42.535 39.3767H25.8945V40.313H42.535V39.3767Z"
              fill="#E4E8F1"
            />
            <path
              d="M22.7313 35.9893H18.273C17.8752 35.9893 17.5527 36.3117 17.5527 36.7095V40.6319C17.5527 41.0297 17.8752 41.3522 18.273 41.3522H22.7313C23.129 41.3522 23.4515 41.0297 23.4515 40.6319V36.7095C23.4515 36.3117 23.129 35.9893 22.7313 35.9893Z"
              fill="#E4E8F1"
            />
            <path
              d="M19.4715 39.3067L18.8362 38.2609C18.7975 38.2031 18.7709 38.138 18.758 38.0696C18.7451 38.0013 18.7461 37.931 18.7611 37.863C18.7761 37.795 18.8047 37.7308 18.8451 37.6742C18.8856 37.6176 18.9371 37.5697 18.9965 37.5335C19.056 37.4974 19.1221 37.4736 19.191 37.4636C19.2599 37.4537 19.3301 37.4578 19.3973 37.4757C19.4646 37.4936 19.5275 37.5249 19.5823 37.5677C19.6372 37.6106 19.6827 37.6641 19.7163 37.7251L20.0808 38.3171L21.6062 37.3232C21.7209 37.2485 21.8604 37.2224 21.9943 37.2506C22.1282 37.2788 22.2453 37.3591 22.32 37.4737C22.3947 37.5883 22.4208 37.7279 22.3926 37.8618C22.3643 37.9956 22.2841 38.1128 22.1695 38.1875L20.1931 39.4695C20.1354 39.5072 20.0706 39.5329 20.0027 39.5451C19.9348 39.5573 19.8652 39.5558 19.7979 39.5406C19.7306 39.5255 19.667 39.4969 19.611 39.4568C19.5549 39.4166 19.5075 39.3656 19.4715 39.3067Z"
              fill="#A5ADC0"
            />
            <path
              d="M43.2884 45.3738H25.8975V46.3101H43.2884V45.3738Z"
              fill="#E4E8F1"
            />
            <path
              d="M40.4722 47.7256H25.8945V48.6619H40.4722V47.7256Z"
              fill="#E4E8F1"
            />
            <path
              d="M22.7313 44.3367H18.273C17.8752 44.3367 17.5527 44.6591 17.5527 45.0569V48.9793C17.5527 49.3771 17.8752 49.6996 18.273 49.6996H22.7313C23.129 49.6996 23.4515 49.3771 23.4515 48.9793V45.0569C23.4515 44.6591 23.129 44.3367 22.7313 44.3367Z"
              fill="#E4E8F1"
            />
            <path
              d="M19.4715 47.6542L18.8362 46.6099C18.7975 46.5521 18.7709 46.487 18.758 46.4186C18.7451 46.3502 18.7461 46.2799 18.7611 46.212C18.7761 46.144 18.8047 46.0798 18.8451 46.0232C18.8856 45.9666 18.9371 45.9187 18.9965 45.8825C19.056 45.8463 19.1221 45.8225 19.191 45.8126C19.2599 45.8026 19.3301 45.8067 19.3973 45.8246C19.4646 45.8425 19.5275 45.8739 19.5823 45.9167C19.6372 45.9596 19.6827 46.0131 19.7163 46.074L20.0808 46.6718L21.6062 45.6779C21.663 45.6409 21.7265 45.6155 21.7931 45.603C21.8596 45.5906 21.928 45.5914 21.9943 45.6053C22.0606 45.6193 22.1235 45.6462 22.1793 45.6845C22.2352 45.7228 22.283 45.7717 22.32 45.8284C22.357 45.8852 22.3824 45.9487 22.3949 46.0152C22.4073 46.0818 22.4065 46.1502 22.3926 46.2165C22.3786 46.2828 22.3517 46.3456 22.3134 46.4015C22.2751 46.4574 22.2262 46.5052 22.1695 46.5422L20.1931 47.8242C20.135 47.8618 20.0698 47.8873 20.0016 47.899C19.9334 47.9108 19.8635 47.9087 19.7961 47.8929C19.7287 47.877 19.6652 47.8477 19.6094 47.8067C19.5536 47.7657 19.5067 47.7138 19.4715 47.6542Z"
              fill="#A5ADC0"
            />
            <path
              d="M28.3864 16.6505V19.4292C28.3846 19.5306 28.3434 19.6274 28.2717 19.6991C28.2 19.7708 28.1032 19.8119 28.0018 19.8138C27.8999 19.8134 27.8023 19.7728 27.7303 19.7007C27.6582 19.6287 27.6176 19.5311 27.6172 19.4292V16.6505C27.6187 16.5489 27.6597 16.452 27.7315 16.3802C27.8033 16.3084 27.9003 16.2674 28.0018 16.2659C28.1038 16.2659 28.2016 16.3064 28.2738 16.3785C28.3459 16.4506 28.3864 16.5485 28.3864 16.6505Z"
              fill="#F1F3F9"
            />
            <path
              d="M30.4704 16.6505V19.4292C30.47 19.5311 30.4294 19.6287 30.3573 19.7007C30.2853 19.7728 30.1877 19.8134 30.0858 19.8138C29.9839 19.8134 29.8863 19.7728 29.8142 19.7007C29.7422 19.6287 29.7016 19.5311 29.7012 19.4292V16.6505C29.7027 16.5489 29.7437 16.452 29.8155 16.3802C29.8873 16.3084 29.9842 16.2674 30.0858 16.2659C30.1878 16.2659 30.2856 16.3064 30.3577 16.3785C30.4299 16.4506 30.4704 16.5485 30.4704 16.6505Z"
              fill="#F1F3F9"
            />
            <path
              d="M32.5544 16.6505V19.4292C32.554 19.5311 32.5133 19.6287 32.4413 19.7007C32.3693 19.7728 32.2717 19.8134 32.1698 19.8138C32.0679 19.8134 31.9703 19.7728 31.8982 19.7007C31.8262 19.6287 31.7855 19.5311 31.7852 19.4292V16.6505C31.7866 16.5489 31.8276 16.452 31.8994 16.3802C31.9713 16.3084 32.0682 16.2674 32.1698 16.2659C32.2718 16.2659 32.3696 16.3064 32.4417 16.3785C32.5138 16.4506 32.5544 16.5485 32.5544 16.6505Z"
              fill="#F1F3F9"
            />
            <path
              d="M34.6369 16.6505V19.4292C34.6369 19.5309 34.5966 19.6285 34.5248 19.7006C34.453 19.7727 34.3555 19.8134 34.2537 19.8138C34.1517 19.8138 34.0539 19.7733 33.9818 19.7011C33.9097 19.629 33.8691 19.5312 33.8691 19.4292V16.6505C33.8706 16.5489 33.9116 16.452 33.9834 16.3802C34.0552 16.3084 34.1522 16.2674 34.2537 16.2659C34.3042 16.2659 34.3541 16.2758 34.4007 16.2952C34.4473 16.3145 34.4896 16.3429 34.5252 16.3786C34.5608 16.4143 34.589 16.4567 34.6082 16.5034C34.6273 16.5501 34.6371 16.6 34.6369 16.6505Z"
              fill="#F1F3F9"
            />
            <defs>
              <linearGradient
                id="paint0_linear_2097_3438"
                x1="11.3918"
                y1="9.40599"
                x2="0.725049"
                y2="9.40599"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#989FB0" />
                <stop offset="1" stopColor="#AAB2C5" />
              </linearGradient>
              <linearGradient
                id="paint1_linear_2097_3438"
                x1="61.6588"
                y1="57.5066"
                x2="16.7402"
                y2="57.5066"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#989FB0" />
                <stop offset="1" stopColor="#AAB2C5" />
              </linearGradient>
              <linearGradient
                id="paint2_linear_2097_3438"
                x1="58.3856"
                y1="16.9965"
                x2="64.2032"
                y2="20.1987"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#D6DCE8" />
                <stop offset="1" stopColor="#F1F3F9" />
              </linearGradient>
              <linearGradient
                id="paint3_linear_2097_3438"
                x1="58.8062"
                y1="16.2318"
                x2="64.6237"
                y2="19.434"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#989FB0" />
                <stop offset="1" stopColor="#AAB2C5" />
              </linearGradient>
              <linearGradient
                id="paint4_linear_2097_3438"
                x1="44.1998"
                y1="42.4449"
                x2="50.0174"
                y2="45.6471"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#D6DCE8" />
                <stop offset="1" stopColor="#F1F3F9" />
              </linearGradient>
              <linearGradient
                id="paint5_linear_2097_3438"
                x1="44.6499"
                y1="44.5132"
                x2="48.0307"
                y2="46.3741"
                gradientUnits="userSpaceOnUse"
              >
                <stop stopColor="#989FB0" />
                <stop offset="1" stopColor="#AAB2C5" />
              </linearGradient>
            </defs>
          </svg>
          <div className="flex flex-col items-center gap-1">
            <div className="text-[#1F2D53] font-bold text-[16px]">
              دریافت قیمت از طریق پیامک
            </div>
            <div className="text-[#536683] font-semibold text-[11px]">
              استعلام با ثبت شماره همراه در کمتر از سی دقیقه
            </div>
          </div>
        </div>
        <form onSubmit={handleFormSubmit} className="flex flex-col w-full mt-8">
          <input
            type="number"
            placeholder="09..."
            id="numberInput"
            value={phoneNumber}
            onChange={handleInputChange}
            className={`px-6 py-4 w-full rounded-2xl focus:outline-none bg-gradient-to-b from-secondary/10 to-white custom-input ${
              phoneNumber.length === 11
                ? "border border-green-500"
                : phoneNumber.length === 0
                ? "border border-secondary/20"
                : "border border-red-500"
            }`}
            dir="ltr"
          />
          {error && (
            <span className="flex items-center justify-start text-red-500 text-sm pt-1">
              * {error}
            </span>
          )}
          <button
            type="submit"
            disabled={isSubmitting}
            className={`px-6 py-5 flex items-center justify-center bg-primary text-white font-semibold text-[14px] rounded-2xl ${
              error ? "mt-2" : "mt-8"
            }`}
          >
            {isSubmitting ? "در حا ل ارسال..." : "ثبت و استعلام قیمت"}
          </button>
        </form>
        {/* Separator */}
        <div className="flex items-center w-full my-8">
          <div className="flex-grow border-t border-[#D5DFE5]"></div>
          <span className="mx-4 text-[#9FACBE]">یا</span>
          <div className="flex-grow border-t border-[#D5DFE5]"></div>
        </div>
        {/* Call Info */}
        <div className="flex flex-col items-center w-full gap-6">
          <div className="text-[#1F2D53] font-bold text-[16px] w-full text-center">
            برای اطلاع از قیمت تماس بگیرید
          </div>
          <Link
            href={`tel:${supportPhone?.replace(/-/g, "")}`}
            className="flex items-center justify-center w-full relative"
          >
            <div className="flex items-center justify-center bg-[#015BA51C] w-full p-4 rounded-2xl relative">
              {phoneError && (
                <span className="text-red-500 pt-1">{phoneError}</span>
              )}
              <span className="text-primary font-bold text-[20px]" dir="ltr">
                {!phoneError && supportPhone}
              </span>
              <span className="absolute left-6 sm:left-10">
                <BiPhoneCall size={26} color="#015BA5" />
              </span>
            </div>
          </Link>
        </div>
      </div>

      {/* ******************************************************************************************************************** */}

      {/* Desktop View */}
      <div className="hidden md:flex flex-col w-[468px] rounded-2xl shadow-2xl relative">
        <div className="flex items-center justify-center w-full h-[66px] 2xl:h-[76px] bg-secondary rounded-t-2xl">
          <div className="text-white font-semibold text-[20px]">
            استعلام قیمت
          </div>
        </div>
        <div className="bg-white rounded-b-2xl">
          <div className="absolute right-3 2xl:right-5 top-5 2xl:top-6 w-6 h-6 rounded-full hover:bg-white hover:bg-white/20 transition-all duration-300 ease-in-out">
            <button onClick={onClose}>
              <BiX size={24} color="white" />
            </button>
          </div>
          <div className="flex flex-col items-center gap-3 2xl:gap-5 pt-4 2xl:pt-8">
            <svg
              width="95"
              height="95"
              viewBox="0 0 95 95"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M47.499 0.909912C21.4644 0.909912 0.47168 22.0196 0.47168 47.9393C0.471141 54.1152 1.68715 60.2308 4.05028 65.9368C6.41341 71.6428 9.87736 76.8274 14.2443 81.1945C18.6113 85.5617 23.7957 89.0259 29.5016 91.3892C35.2075 93.7526 41.323 94.9689 47.499 94.9686C73.3837 94.9686 94.5283 73.9964 94.5283 47.9393C94.5283 21.8821 73.4001 0.909912 47.499 0.909912Z"
                fill="#D6DCE8"
              />
              <path
                d="M88.9167 10.81C88.5098 10.9928 88.0579 11.0509 87.618 10.9772C87.1781 10.9034 86.7698 10.701 86.4448 10.3956C86.1198 10.0901 85.8925 9.69514 85.7917 9.26063C85.6908 8.82611 85.7209 8.37147 85.8782 7.95404C86.0354 7.53662 86.3128 7.17511 86.6752 6.91513C87.0377 6.65516 87.469 6.50835 87.9149 6.49324C88.3607 6.47813 88.801 6.59539 89.1802 6.83022C89.5594 7.06506 89.8606 7.40695 90.0458 7.81277C90.1693 8.08357 90.2381 8.37612 90.2482 8.67361C90.2583 8.97109 90.2095 9.26763 90.1045 9.54617C89.9996 9.82472 89.8407 10.0798 89.6368 10.2967C89.4329 10.5135 89.1882 10.688 88.9167 10.81Z"
                fill="#D6DCE8"
              />
              <path
                d="M93.3428 14.1348C93.0839 14.2511 92.7963 14.2881 92.5164 14.2412C92.2364 14.1943 91.9766 14.0655 91.7698 13.8711C91.5629 13.6767 91.4183 13.4254 91.3541 13.1488C91.2899 12.8723 91.3091 12.583 91.4092 12.3173C91.5092 12.0517 91.6858 11.8217 91.9164 11.6562C92.1471 11.4908 92.4216 11.3974 92.7053 11.3878C92.989 11.3782 93.2692 11.4528 93.5106 11.6023C93.7519 11.7518 93.9435 11.9694 94.0613 12.2276C94.1399 12.4 94.1837 12.5861 94.1901 12.7754C94.1965 12.9647 94.1654 13.1534 94.0987 13.3306C94.0319 13.5078 93.9307 13.6701 93.801 13.8081C93.6713 13.9461 93.5156 14.0571 93.3428 14.1348Z"
                fill="#D6DCE8"
              />
              <path
                d="M6.4669 89.5267C6.12747 89.8161 5.70996 89.9984 5.26703 90.0508C4.8241 90.1031 4.37558 90.0231 3.97805 89.8209C3.58052 89.6187 3.25179 89.3032 3.0333 88.9144C2.81482 88.5256 2.71637 88.0807 2.75038 87.636C2.78439 87.1913 2.94934 86.7666 3.22441 86.4155C3.49948 86.0644 3.87236 85.8027 4.29602 85.6632C4.71968 85.5238 5.17515 85.5129 5.60497 85.632C6.03479 85.7511 6.41971 85.9949 6.71119 86.3324C6.90578 86.5578 7.05387 86.8194 7.14695 87.1023C7.24003 87.3851 7.27627 87.6835 7.25356 87.9804C7.23086 88.2773 7.14966 88.5667 7.01466 88.8321C6.87965 89.0975 6.69349 89.3336 6.4669 89.5267Z"
                fill="#D6DCE8"
              />
              <path
                d="M11.6397 91.4766C11.4238 91.6607 11.1582 91.7767 10.8764 91.8101C10.5947 91.8435 10.3093 91.7927 10.0564 91.6641C9.80346 91.5356 9.59423 91.335 9.45509 91.0877C9.31596 90.8405 9.25313 90.5575 9.27455 90.2746C9.29596 89.9917 9.40065 89.7214 9.57541 89.4979C9.75018 89.2744 9.98721 89.1076 10.2566 89.0186C10.526 88.9296 10.8158 88.9223 11.0893 88.9977C11.3628 89.0731 11.6079 89.2278 11.7937 89.4422C11.9178 89.5856 12.0124 89.7521 12.0719 89.9322C12.1314 90.1123 12.1547 90.3024 12.1404 90.4915C12.1261 90.6806 12.0745 90.865 11.9885 91.0341C11.9026 91.2032 11.784 91.3536 11.6397 91.4766Z"
                fill="#D6DCE8"
              />
              <path
                d="M10.334 6.82982C10.1595 6.97893 9.94463 7.073 9.71667 7.10013C9.4887 7.12727 9.25781 7.08627 9.05312 6.9823C8.84844 6.87834 8.67914 6.71607 8.56659 6.51597C8.45405 6.31587 8.4033 6.08692 8.42075 5.85801C8.43821 5.6291 8.52308 5.41049 8.66466 5.22977C8.80625 5.04905 8.99819 4.91433 9.21627 4.8426C9.43436 4.77087 9.6688 4.76535 9.89001 4.82673C10.1112 4.88812 10.3093 5.01367 10.4592 5.18752C10.5592 5.30342 10.6353 5.43793 10.6831 5.58331C10.7309 5.72869 10.7495 5.88209 10.7379 6.03469C10.7262 6.18729 10.6846 6.3361 10.6153 6.47255C10.546 6.609 10.4504 6.73042 10.334 6.82982Z"
                fill="#D6DCE8"
              />
              <path
                d="M1.50891 18.0036C1.50864 18.1869 1.54457 18.3686 1.61462 18.5381C1.68468 18.7076 1.7875 18.8616 1.91718 18.9912C2.04686 19.1209 2.20085 19.2237 2.37034 19.2938C2.53983 19.3639 2.72147 19.3998 2.90487 19.3995H16.7043V16.8293C16.7043 10.0548 8.4928 6.70452 3.73628 11.4569C0.977219 14.2139 1.59308 17.4883 1.50891 18.0036Z"
                fill="url(#paint0_linear_86_2230)"
              />
              <path
                d="M9.08047 9.23028C10.0783 9.2265 11.0671 9.41936 11.9903 9.79784C12.9136 10.1763 13.7532 10.733 14.4613 11.4361C15.1693 12.1392 15.7319 12.9749 16.1169 13.8955C16.5018 14.8161 16.7016 15.8035 16.7049 16.8013V79.0794C16.7081 80.0771 16.9078 81.0643 17.2927 81.9847C17.6775 82.9052 18.2399 83.7408 18.9477 84.4439C19.6555 85.1469 20.4949 85.7037 21.4179 86.0823C22.341 86.4609 23.3295 86.6539 24.3272 86.6504H72.307V16.8013C72.3038 15.8036 72.1041 14.8164 71.7192 13.896C71.3344 12.9755 70.772 12.1399 70.0642 11.4368C69.3563 10.7338 68.517 10.177 67.5939 9.79844C66.6709 9.41983 65.6823 9.22677 64.6847 9.23028H9.08047Z"
                fill="#F1F3F9"
              />
              <path
                d="M32.9288 79.0789C32.6594 79.0799 32.3997 79.1795 32.1986 79.3587C31.9974 79.5379 31.8687 79.7844 31.8367 80.0519C31.5986 81.8752 30.7058 83.5498 29.3246 84.7637C27.9435 85.9776 26.1681 86.6479 24.3293 86.6499H80.8696C82.647 86.648 84.3673 86.0219 85.73 84.8809C87.0928 83.7399 88.0115 82.1565 88.3257 80.4071C88.3563 80.2464 88.3513 80.0809 88.3111 79.9224C88.2709 79.7638 88.1963 79.616 88.0928 79.4894C87.9893 79.3628 87.8592 79.2604 87.7118 79.1895C87.5644 79.1185 87.4033 79.0808 87.2397 79.0789H32.9288Z"
                fill="url(#paint1_linear_86_2230)"
              />
              <path
                d="M65.1031 41.7781H37.379V43.1124H65.1031V41.7781Z"
                fill="#E4E8F1"
              />
              <path
                d="M61.0902 45.1292H37.3753V46.4635H61.0902V45.1292Z"
                fill="#E4E8F1"
              />
              <path
                d="M91.868 29.9046C72.6839 64.007 74.435 61.7242 73.152 62.7034L65.9505 68.2236C65.828 68.3176 65.6808 68.3739 65.5268 68.3855C65.3729 68.3972 65.2188 68.3637 65.0836 68.2892C64.9484 68.2147 64.8378 68.1025 64.7653 67.9661C64.6928 67.8298 64.6617 67.6753 64.6756 67.5215L65.4968 58.4889C65.5502 57.9038 65.7247 57.3331 65.4373 57.8545L83.5026 25.5033C86.5326 19.9974 91.7572 21.5474 92.8514 25.2713C93.1778 26.4332 93.0669 27.7224 91.868 29.9046Z"
                fill="#E0E4ED"
              />
              <path
                d="M89.2379 34.6963L92.4465 28.8682C92.7609 28.2982 92.954 27.6694 93.0138 27.0211C93.0735 26.3729 92.9985 25.7194 92.7936 25.1015C92.5887 24.4836 92.2582 23.9148 91.8229 23.4308C91.3877 22.9467 90.857 22.5579 90.2643 22.2888C87.9815 21.2315 85.2635 22.26 84.0502 24.4628L80.9299 30.1328L89.2379 34.6963Z"
                fill="url(#paint2_linear_86_2230)"
              />
              <path
                d="M90.4259 32.5244L92.4357 28.8744C92.7514 28.3048 92.9459 27.676 93.0069 27.0275C93.0679 26.3791 92.9941 25.7251 92.7901 25.1065C92.5861 24.488 92.2563 23.9184 91.8216 23.4335C91.3868 22.9485 90.8564 22.5588 90.2638 22.2888C87.981 21.2315 85.263 22.26 84.0497 24.4628L82.1282 27.9526L90.4259 32.5244Z"
                fill="url(#paint3_linear_86_2230)"
              />
              <path
                d="M74.2872 61.383C73.6036 62.6148 72.7742 62.8837 69.9474 65.1583L65.9505 68.2232C65.828 68.3172 65.6808 68.3735 65.5268 68.3851C65.3729 68.3968 65.2188 68.3633 65.0836 68.2888C64.9484 68.2143 64.8378 68.1021 64.7653 67.9657C64.6928 67.8294 64.6617 67.6749 64.6756 67.5211L65.1293 62.4957L65.4927 58.4762C65.5427 57.892 65.7147 57.3248 65.9977 56.8113L74.2872 61.383Z"
                fill="url(#paint4_linear_86_2230)"
              />
              <path
                d="M69.9413 65.1648L65.9505 68.2236C65.828 68.3176 65.6808 68.3739 65.5268 68.3855C65.3729 68.3972 65.2188 68.3637 65.0836 68.2892C64.9484 68.2147 64.8378 68.1025 64.7653 67.9661C64.6928 67.8298 64.6617 67.6753 64.6756 67.5215L65.1293 62.4961C66.1076 62.3989 67.0923 62.6023 67.952 63.0791C68.8117 63.5559 69.5057 64.2835 69.9413 65.1648Z"
                fill="url(#paint5_linear_86_2230)"
              />
              <path
                d="M32.8664 40.2998H26.5128C25.9459 40.2998 25.4863 40.7594 25.4863 41.3262V46.9162C25.4863 47.4831 25.9459 47.9427 26.5128 47.9427H32.8664C33.4333 47.9427 33.8929 47.4831 33.8929 46.9162V41.3262C33.8929 40.7594 33.4333 40.2998 32.8664 40.2998Z"
                fill="#E4E8F1"
              />
              <path
                d="M28.2217 45.2642L27.3164 43.7738C27.2612 43.6914 27.2233 43.5986 27.2049 43.5012C27.1865 43.4037 27.1881 43.3035 27.2094 43.2067C27.2307 43.1098 27.2715 43.0183 27.3291 42.9376C27.3868 42.8569 27.4602 42.7887 27.5449 42.7372C27.6296 42.6856 27.7239 42.6517 27.8221 42.6375C27.9202 42.6233 28.0202 42.6292 28.1161 42.6547C28.2119 42.6802 28.3016 42.7248 28.3797 42.7859C28.4579 42.847 28.5228 42.9232 28.5707 43.0101L29.0839 43.8518L31.2579 42.4373C31.4213 42.3309 31.6202 42.2937 31.811 42.3339C32.0017 42.3742 32.1687 42.4885 32.2751 42.6519C32.3816 42.8152 32.4188 43.0141 32.3785 43.2049C32.3383 43.3957 32.2239 43.5626 32.0606 43.6691L29.2502 45.5002C29.1675 45.5535 29.0751 45.5897 28.9782 45.6066C28.8813 45.6236 28.7821 45.621 28.6862 45.599C28.5904 45.577 28.4999 45.536 28.4201 45.4785C28.3403 45.421 28.2729 45.3481 28.2217 45.2642Z"
                fill="#A5ADC0"
              />
              <path
                d="M65.1031 53.6772H37.379V55.0116H65.1031V53.6772Z"
                fill="#E4E8F1"
              />
              <path
                d="M61.0902 57.0269H37.3753V58.3612H61.0902V57.0269Z"
                fill="#E4E8F1"
              />
              <path
                d="M32.8664 52.1995H26.5128C25.9459 52.1995 25.4863 52.659 25.4863 53.2259V58.8159C25.4863 59.3828 25.9459 59.8423 26.5128 59.8423H32.8664C33.4333 59.8423 33.8929 59.3828 33.8929 58.8159V53.2259C33.8929 52.659 33.4333 52.1995 32.8664 52.1995Z"
                fill="#E4E8F1"
              />
              <path
                d="M28.2217 56.9272L27.3164 55.4369C27.2612 55.3544 27.2233 55.2617 27.2049 55.1643C27.1865 55.0668 27.1881 54.9666 27.2094 54.8698C27.2307 54.7729 27.2715 54.6814 27.3291 54.6007C27.3868 54.52 27.4602 54.4518 27.5449 54.4002C27.6296 54.3487 27.7239 54.3148 27.8221 54.3006C27.9202 54.2864 28.0202 54.2923 28.1161 54.3178C28.2119 54.3433 28.3016 54.3879 28.3797 54.449C28.4579 54.5101 28.5228 54.5863 28.5707 54.6732L29.0901 55.5169L31.2641 54.1004C31.4274 53.994 31.6264 53.9568 31.8171 53.997C32.0079 54.0373 32.1748 54.1516 32.2813 54.315C32.3877 54.4783 32.4249 54.6772 32.3847 54.868C32.3445 55.0588 32.2301 55.2257 32.0668 55.3322L29.2502 57.1592C29.1679 57.2129 29.0756 57.2496 28.9789 57.267C28.8821 57.2844 28.7828 57.2823 28.6869 57.2606C28.591 57.239 28.5005 57.1983 28.4205 57.1411C28.3406 57.0838 28.273 57.0111 28.2217 56.9272Z"
                fill="#A5ADC0"
              />
              <path
                d="M62.1633 65.5735H37.379V66.9079H62.1633V65.5735Z"
                fill="#E4E8F1"
              />
              <path
                d="M58.1505 68.925H37.3753V70.2594H58.1505V68.925Z"
                fill="#E4E8F1"
              />
              <path
                d="M32.8664 64.0955H26.5128C25.9459 64.0955 25.4863 64.555 25.4863 65.1219V70.7119C25.4863 71.2788 25.9459 71.7383 26.5128 71.7383H32.8664C33.4333 71.7383 33.8929 71.2788 33.8929 70.7119V65.1219C33.8929 64.555 33.4333 64.0955 32.8664 64.0955Z"
                fill="#E4E8F1"
              />
              <path
                d="M28.2217 68.8235L27.3164 67.3351C27.2612 67.2527 27.2233 67.16 27.2049 67.0625C27.1865 66.9651 27.1881 66.8649 27.2094 66.7681C27.2307 66.6712 27.2715 66.5797 27.3291 66.499C27.3868 66.4183 27.4602 66.3501 27.5449 66.2985C27.6296 66.2469 27.7239 66.2131 27.8221 66.1989C27.9202 66.1847 28.0202 66.1905 28.1161 66.216C28.2119 66.2415 28.3016 66.2862 28.3797 66.3473C28.4579 66.4083 28.5228 66.4846 28.5707 66.5715L29.0901 67.4234L31.2641 66.0069C31.345 65.9542 31.4354 65.918 31.5303 65.9002C31.6252 65.8825 31.7227 65.8836 31.8171 65.9035C31.9116 65.9234 32.0012 65.9618 32.0808 66.0163C32.1605 66.0709 32.2286 66.1406 32.2813 66.2214C32.334 66.3023 32.3703 66.3928 32.388 66.4877C32.4057 66.5826 32.4046 66.68 32.3847 66.7745C32.3648 66.8689 32.3264 66.9585 32.2719 67.0382C32.2173 67.1178 32.1476 67.1859 32.0668 67.2387L29.2502 69.0657C29.1673 69.1193 29.0745 69.1555 28.9773 69.1724C28.8801 69.1892 28.7804 69.1862 28.6844 69.1636C28.5884 69.1409 28.4979 69.0991 28.4184 69.0407C28.3389 68.9823 28.272 68.9084 28.2217 68.8235Z"
                fill="#A5ADC0"
              />
              <path
                d="M40.9267 24.6392V28.5992C40.9241 28.7437 40.8655 28.8816 40.7633 28.9838C40.6611 29.0861 40.5232 29.1447 40.3786 29.1473C40.2334 29.1468 40.0943 29.0888 39.9916 28.9862C39.889 28.8835 39.831 28.7444 39.8305 28.5992V24.6392C39.8326 24.4945 39.8911 24.3563 39.9934 24.254C40.0957 24.1516 40.2339 24.0932 40.3786 24.0911C40.524 24.0911 40.6634 24.1488 40.7662 24.2516C40.869 24.3544 40.9267 24.4938 40.9267 24.6392Z"
                fill="#F1F3F9"
              />
              <path
                d="M43.8967 24.6392V28.5992C43.8961 28.7444 43.8382 28.8835 43.7355 28.9862C43.6329 29.0888 43.4938 29.1468 43.3486 29.1473C43.2034 29.1468 43.0643 29.0888 42.9616 28.9862C42.8589 28.8835 42.801 28.7444 42.8004 28.5992V24.6392C42.8026 24.4945 42.861 24.3563 42.9633 24.254C43.0657 24.1516 43.2039 24.0932 43.3486 24.0911C43.4939 24.0911 43.6334 24.1488 43.7361 24.2516C43.8389 24.3544 43.8967 24.4938 43.8967 24.6392Z"
                fill="#F1F3F9"
              />
              <path
                d="M46.8663 24.6392V28.5992C46.8657 28.7444 46.8078 28.8835 46.7051 28.9862C46.6025 29.0888 46.4634 29.1468 46.3182 29.1473C46.173 29.1468 46.0339 29.0888 45.9312 28.9862C45.8285 28.8835 45.7706 28.7444 45.7701 28.5992V24.6392C45.7722 24.4945 45.8306 24.3563 45.9329 24.254C46.0353 24.1516 46.1735 24.0932 46.3182 24.0911C46.4635 24.0911 46.6029 24.1488 46.7057 24.2516C46.8085 24.3544 46.8663 24.4938 46.8663 24.6392Z"
                fill="#F1F3F9"
              />
              <path
                d="M49.8338 24.6392V28.5992C49.8338 28.7442 49.7764 28.8833 49.674 28.986C49.5717 29.0888 49.4328 29.1468 49.2878 29.1473C49.1424 29.1473 49.003 29.0896 48.9002 28.9868C48.7974 28.884 48.7397 28.7446 48.7397 28.5992V24.6392C48.7418 24.4945 48.8002 24.3563 48.9025 24.254C49.0049 24.1516 49.1431 24.0932 49.2878 24.0911C49.3597 24.0911 49.4308 24.1053 49.4972 24.1328C49.5636 24.1604 49.6239 24.2008 49.6746 24.2517C49.7254 24.3027 49.7655 24.3631 49.7929 24.4296C49.8202 24.4961 49.8341 24.5673 49.8338 24.6392Z"
                fill="#F1F3F9"
              />
              <defs>
                <linearGradient
                  id="paint0_linear_86_2230"
                  x1="16.7064"
                  y1="14.3145"
                  x2="1.50481"
                  y2="14.3145"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#989FB0" />
                  <stop offset="1" stopColor="#AAB2C5" />
                </linearGradient>
                <linearGradient
                  id="paint1_linear_86_2230"
                  x1="88.3442"
                  y1="82.8644"
                  x2="24.3293"
                  y2="82.8644"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#989FB0" />
                  <stop offset="1" stopColor="#AAB2C5" />
                </linearGradient>
                <linearGradient
                  id="paint2_linear_86_2230"
                  x1="83.6784"
                  y1="25.1321"
                  x2="91.9692"
                  y2="29.6956"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#D6DCE8" />
                  <stop offset="1" stopColor="#F1F3F9" />
                </linearGradient>
                <linearGradient
                  id="paint3_linear_86_2230"
                  x1="84.2778"
                  y1="24.0422"
                  x2="92.5685"
                  y2="28.6058"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#989FB0" />
                  <stop offset="1" stopColor="#AAB2C5" />
                </linearGradient>
                <linearGradient
                  id="paint4_linear_86_2230"
                  x1="63.4624"
                  y1="61.3995"
                  x2="71.7532"
                  y2="65.9631"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#D6DCE8" />
                  <stop offset="1" stopColor="#F1F3F9" />
                </linearGradient>
                <linearGradient
                  id="paint5_linear_86_2230"
                  x1="64.1039"
                  y1="64.3471"
                  x2="68.9219"
                  y2="66.9991"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop stopColor="#989FB0" />
                  <stop offset="1" stopColor="#AAB2C5" />
                </linearGradient>
              </defs>
            </svg>
            <div className="flex flex-col items-center 2xl:gap-2">
              <div className="text-[#1F2D53] font-bold text-[18px]">
                دریافت قیمت از طریق پیامک
              </div>
              <div className="text-[#536683] font-semibold text-[13px]">
                استعلام با ثبت شماره همراه در کمتر از سی دقیقه
              </div>
            </div>
          </div>
          <form
            onSubmit={handleFormSubmit}
            className="flex flex-col px-12 mt-6 2xl:mt-8"
          >
            <input
              type="number"
              placeholder="09...                                                    شماره همراه خود را وارد کنید *"
              id="numberInput"
              value={phoneNumber}
              onChange={handleInputChange}
              className={`p-6 w-full rounded-lg focus:outline-none bg-[#EAECF4] custom-input ${
                phoneNumber.length === 11
                  ? "border border-green-500"
                  : phoneNumber.length === 0
                  ? ""
                  : "border border-red-500"
              }`}
              dir="ltr"
            />
            {error && (
              <span className="flex items-center justify-start text-red-500 text-sm pt-1">
                * {error}
              </span>
            )}
            <button
              type="submit"
              disabled={isSubmitting}
              className={`p-6 flex items-center justify-center bg-primary text-white font-semibold rounded-lg hover:bg-primary/80 transition-colors duration-300 ease-in-out ${
                error ? "mt-[6px]" : "mt-8"
              }`}
            >
              {isSubmitting ? "در حا ل ارسال..." : "ثبت و استعلام قیمت"}
            </button>
          </form>
          {/* Separator */}
          <div className="flex items-center my-4 2xl:my-8 px-12">
            <div className="flex-grow border-t border-[#D5DFE5]"></div>
            <span className="mx-4 text-[#9FACBE]">یا</span>
            <div className="flex-grow border-t border-[#D5DFE5]"></div>
          </div>
          {/* Call Info */}
          <div className="flex flex-col items-center px-12 gap-4 2xl:gap-6 pb-6 2xl:pb-8">
            <div className="text-[#1F2D53] font-bold text-[18px] w-full text-center">
              برای اطلاع از قیمت تماس بگیرید
            </div>
            <Link
              href={`tel:${supportPhone?.replace(/-/g, "")}`}
              className="flex items-center justify-center w-full relative"
            >
              <div className="flex items-center justify-center w-full p-5 rounded-lg bg-[#015BA51C] hover:opacity-70 transition-all duration-300 ease-in-out">
                {phoneError && (
                  <span className="text-red-500 pt-1">{phoneError}</span>
                )}
                <span className="text-primary font-bold text-[23px]" dir="ltr">
                  {!phoneError && supportPhone}
                </span>
                <span className="absolute left-10">
                  <BiPhoneCall size={26} color="#015BA5" />
                </span>
              </div>
            </Link>
          </div>
        </div>
      </div>
    </>
  );
}
